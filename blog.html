<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog - Gulf Fresh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon.ico" />

    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <style>
      html,
      body {
        font-family: "Montserrat", "Poppins", sans-serif;
        background-color: #ffffff;
        color: black;
        scroll-behavior: smooth;
        overflow-x: hidden;
        width: 100%;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        max-width: 100%;
        position: relative;
      }
      * {
        box-sizing: border-box;
      }
      [data-aos] {
        overflow-x: hidden;
      }
      .aos-animate {
        overflow-x: hidden;
      }
      p {
        color: black ;
      }
      .mobile-menu {
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
      }
      .mobile-menu.active {
        transform: translateX(0);
      }      /* Override paragraph color in modal */
      .bg-\[#242424\] p {
        color: white !important;
      }
      .nav-link {
        position: relative;
      }
      .nav-link::after {
        content: "";
        position: absolute;
        width: 0;
        height: 1px;
        bottom: -2px;
        left: 0;
        background-color: #C1272D;
        transition: width 0.3s ease;
      }
      .nav-link:hover {
        color: #C1272D;
      }
      .nav-link:hover::after {
        width: 100%;
      }

      section {
        width: 100%;
        max-width: 100vw;
        overflow-x: hidden;
        box-sizing: border-box;
      }
      .max-w-7xl {
        width: 100%;
        max-width: 1280px;
        margin: 0 auto;
        padding: 0 1rem;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="fixed w-full z-50 px-4 py-4">
      <div
        class="max-w-7xl mx-auto bg-white rounded-full px-6 sm:px-8 py-4 shadow-lg"
      >
        <div class="flex justify-between items-center">
          <!-- Logo -->
          <a href="index.html" class="flex items-center">
            <img
              src="gulfresh.png"
              alt="Gulf Fresh Logo"
              class="h-12 sm:h-14 w-auto max-w-[180px] sm:max-w-[200px] object-contain"
            />
          </a>

          <!-- Navigation Links -->
          <div class="hidden lg:flex space-x-12 ml-auto mr-8">
            <a href="index.html" class="nav-link text-gray-800">Home</a>
            <a href="about.html" class="nav-link text-gray-800">About Us</a>
            <a href="products.html" class="nav-link text-gray-800">Products</a>
            
          </div>

          <!-- CTA Button -->
          <div class="flex items-center gap-4">
            <a href="index.html#contact">
              <button
                class="hidden sm:block bg-[#C1272D] text-white px-6 py-2 rounded-lg text-sm hover:bg-[#A02025] transition"
              >
                Contact Us
              </button>
            </a>
            <!-- Mobile Menu Button -->
            <button
              class="lg:hidden text-gray-800 focus:outline-none"
              onclick="toggleMobileMenu()"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div
        id="mobileMenu"
        class="mobile-menu fixed top-0 right-0 h-full w-full sm:w-80 bg-white shadow-2xl z-50"
      >
        <div class="p-6">
          <div class="flex justify-between items-center mb-8">
            <a href="index.html" class="flex items-center">
              <img
                src="gulfresh.png"
                alt="Gulf Fresh Logo"
                class="h-10 sm:h-11 w-auto max-w-[262px] sm:max-w-[210px] object-contain"
              />
            </a>
            <button
              onclick="toggleMobileMenu()"
              class="text-gray-800 focus:outline-none"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>
          <div class="flex flex-col space-y-6">
            <a
              href="index.html"
              class="nav-link text-gray-800 font-montserrat text-[1.1rem]"
              >Home</a
            >
            <a
              href="about.html"
              class="nav-link text-gray-800 font-montserrat text-[1.1rem]"
              >About Us</a
            >
            <div class="space-y-2">
              <button
                onclick="toggleMobileSubmenu('productsSubmenu')"
                class="flex items-center justify-between w-full text-gray-800 font-montserrat text-[1.1rem]"
              >
                <span>Products</span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 transform transition-transform"
                  id="productsArrow"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  />
                </svg>
              </button>
              <div id="productsSubmenu" class="hidden pl-4 space-y-2">
                <a
                  href="spices.html"
                  class="block text-gray-800 hover:text-[#C1272D] font-montserrat text-[1.1rem]"
                  >Spices & Herbs</a
                >
                <a
                  href="freshproduce.html"
                  class="block text-gray-800 hover:text-[#C1272D] font-montserrat text-[1.1rem]"
                  >Fresh Produce</a
                >
                <a
                  href="coconut.html"
                  class="block text-gray-800 hover:text-[#C1272D] font-montserrat text-[1.1rem]"
                  >Coconut Products</a
                >
                <a
                  href="nonperishables.html"
                  class="block text-gray-800 hover:text-[#C1272D] font-montserrat text-[1.1rem]"
                  >Non-Perishables</a
                >
              </div>
            </div>
            <a href="index.html#contact">
              <button
                class="bg-[#C1272D] text-white px-6 py-3 rounded-lg hover:bg-[#A02025] transition mt-4 font-montserrat text-[1.1rem]"
              >
                Contact Us
              </button>
            </a>
          </div>
        </div>
      </div>
    </nav>


    <!-- Mobile Menu -->
    <div
      id="mobileMenu"
      class="lg:hidden fixed inset-0 bg-[#1a1a1a] bg-opacity-95 transform translate-x-full transition-transform duration-300 ease-in-out z-40 w-full max-w-full overflow-x-hidden"
    >
      <div
        class="flex flex-col items-center justify-center h-full space-y-8 w-full"
      >
        <a
          href="index.html"
          class="nav-link active text-2xl"
          data-section="home"
          >Home</a
        >
        <a href="about.html" class="nav-link text-2xl" data-section="about"
          >About</a
        >
        <a
          href="partners.html"
          class="nav-link text-2xl"
          data-section="partners"
          >Partner Companies</a
        >
        <a
          href="projects.html"
          class="nav-link text-2xl"
          data-section="projects"
          >Projects</a
        >

        <a href="blog.html" class="nav-link text-2xl" data-section="blog"
          >Blog</a
        >
        <a
          href="index.html#contact"
          class="px-6 py-3 text-white text-2xl rounded hover:text-black hover:bg-white border-2 border-white transition-all"
        >
          Contact
        </a>
      </div>
    </div>

    <main class="pt-32 px-4 md:px-8 pb-20">
      <div class="max-w-7xl mx-auto">
        <!-- Blog Header -->
        <div class="text-center mb-16" data-aos="fade-up">
          <h1 class="text-4xl md:text-6xl font-bold mb-6 font-montserrat">Our Blog</h1>
          <p class="text-gray-600 text-lg max-w-2xl mx-auto font-poppins">
            Stay in the loop with our latest updatesâ€”from product spotlights and trade tips to cool stories about sourcing and global markets. Get an inside look at how we do things the GULF FRESH way.
          </p>
        </div>

        <div
          id="blog-grid"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
        ></div>

        <div class="flex justify-center mt-12" data-aos="fade-up">
          <div class="pagination flex space-x-2"></div>
        </div>
      </div>
    </main>
        <!-- Footer -->
        <footer class="bg-gray-900 text-white">
          <div class="container mx-auto px-4 sm:px-6 py-16">
            <!-- Main Footer Content -->
            <div
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12"
            >
              <!-- Company Info -->
              <div class="space-y-4">
                <img src="gulfresh.png" alt="Gulf Fresh Logo" class="h-12 w-auto" />
                <p class="text-gray-400 text-sm">
                  Your trusted partner in premium Indian spices and products,
                  delivering quality and tradition to the world.
                </p>
                <div class="flex space-x-4">
                  <a
                    href="https://www.linkedin.com/company/jaas-exports/posts/?feedView=all"
                    class="text-gray-400 hover:text-[#C1272D] transition-colors"
                  >
                    <i class="fa-brands fa-linkedin text-2xl"></i>
                  </a>
                  <a
                    href="https://www.instagram.com/jaas_exports/"
                    class="text-gray-400 hover:text-[#C1272D] transition-colors"
                  >
                    <i class="fa-brands fa-square-instagram text-2xl"></i>
                  </a>
                  <a
                    href="https://www.facebook.com/jaasexports"
                    class="text-gray-400 hover:text-[#C1272D] transition-colors"
                  >
                    <i class="fa-brands fa-facebook text-2xl"></i>
                  </a>
                </div>
              </div>
    
              <!-- Quick Links -->
              <div>
                <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                  <li>
                    <a
                      href="index.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Home</a
                    >
                  </li>
                  <li>
                    <a
                      href="about.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >About Us</a
                    >
                  </li>
                  <li>
                    <a
                      href="products.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Products</a
                    >
                  </li>
                  <li>
                    <a
                      href="index.html#contact"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Contact</a
                    >
                  </li>
                </ul>
              </div>
    
              <!-- Products -->
              <div>
                <h3 class="text-lg font-semibold mb-4">Our Products</h3>
                <ul class="space-y-2">
                  <li>
                    <a
                      href="spices.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Spices & Herbs</a
                    >
                  </li>
                  <li>
                    <a
                      href="coconut.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Coconut Products</a
                    >
                  </li>
                  <li>
                    <a
                      href="nonperishables.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Non-Perishables</a
                    >
                  </li>
                  <li>
                    <a
                      href="freshproduce.html"
                      class="text-gray-400 hover:text-[#C1272D] transition-colors"
                      >Fresh Produce</a
                    >
                  </li>
                </ul>
              </div>
    
              <!-- Contact Info -->
              <div>
                <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                <ul class="space-y-3">
                  <li class="flex items-start space-x-3">
                    <svg
                      class="w-10 h-10 text-[#C1272D] mt-1"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                      />
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                      />
                    </svg>
                    <span class="text-gray-400"
                      >GULF FRESH LLC-(FZ), SAIF-ZONE,
                      SHARJAH, UAE.</span
                    >
                  </li>
                  <li class="flex items-start space-x-3">
                    <svg
                      class="w-5 h-5 text-[#C1272D] mt-1"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                      />
                    </svg>
                    <span class="text-gray-400">info@gulffresh.ae</span>
                  </li>
                  <li class="flex items-start space-x-3">
                    <svg
                      class="w-5 h-5 text-[#C1272D] mt-1"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                      />
                    </svg>
                    <span class="text-gray-400">+971 55972-1225</span>
                  </li>
                </ul>
              </div>
            </div>
    
            <!-- Bottom Bar -->
            <div class="pt-8 border-t border-gray-800">
              <p class="text-gray-400 text-sm text-center">
                <span class="text-[#C1272D]">&copy;</span> 2025 Gulf Fresh. All
                rights reserved.
              </p>
            </div>
          </div>
        </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize AOS
        AOS.init({
          duration: 800,
          once: true,
        });

        // Load blog posts
        loadBlogPosts();
      });

      
      function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobileMenu");
        const body = document.body;

        mobileMenu.classList.toggle("active");
        body.classList.toggle("overflow-hidden");

        // Add overlay when menu is open
        let overlay = document.getElementById("menuOverlay");
        if (mobileMenu.classList.contains("active")) {
          if (!overlay) {
            overlay = document.createElement("div");
            overlay.id = "menuOverlay";
            overlay.className = "fixed inset-0 bg-black bg-opacity-50 z-40";
            overlay.onclick = toggleMobileMenu;
            document.body.appendChild(overlay);
          }
        } else if (overlay) {
          overlay.remove();
        }
      }

      function toggleMobileSubmenu(submenuId) {
        const submenu = document.getElementById(submenuId);
        const arrow = document.getElementById(
          submenuId === "productsSubmenu" ? "productsArrow" : "spicesArrow"
        );

        submenu.classList.toggle("hidden");
        arrow.classList.toggle("rotate-180");
      }
    
     

      // Pagination settings
      const POSTS_PER_PAGE = 10;
      let currentPage = 1;
      let totalPosts = 0;

      // Initialize Supabase client
      console.log("Initializing Supabase client");
      const supabaseClient = supabase.createClient(
        "https://qvoulabhiqbiygezburk.supabase.co",
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF2b3VsYWJoaXFiaXlnZXpidXJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NTQxMDIsImV4cCI6MjA2MjAzMDEwMn0.veH6UVxvctJJlC0kvuMeP3FVD3aCMFF85UptJJZA7uM"
      );

      async function testConnection() {
        try {
          const { data, error } = await supabaseClient
            .from("blog")
            .select("count");
          console.log("Connection test:", { data, error });
        } catch (e) {
          console.error("Connection error:", e);
        }
      }
      testConnection();

      // Load blog posts
      async function loadBlogPosts() {
        try {
          // First get total count
          const { count, error: countError } = await supabaseClient
            .from("blog")
            .select("*", { count: "exact", head: true });

          if (countError) throw countError;
          totalPosts = count;

          const { data, error } = await supabaseClient
            .from("blog")
            .select("*")
            .order("created_at", { ascending: false })
            .range(
              (currentPage - 1) * POSTS_PER_PAGE,
              currentPage * POSTS_PER_PAGE - 1
            );

          console.log("Blog data:", data);
          if (error) throw error;

          const blogGrid = document.getElementById("blog-grid");
          if (!blogGrid) {
            console.error("Blog grid element not found");
            return;
          }

          if (!data || data.length === 0) {
            blogGrid.innerHTML =
              '<p class="text-gray-400 col-span-3 text-center">No blog posts found</p>';
            return;
          }

          blogGrid.innerHTML = data
            .map(
              (post, index) => `
            <div class="border-2 border-[#A02025] rounded-lg overflow-hidden group hover:bg-[#A02025]/10 transition-colors" 
                 data-aos="fade-up" 
                 data-aos-delay="${index * 100}">
              <div class="aspect-video overflow-hidden">
                <img src="${post.image_url}" 
                     alt="${post.title}" 
                     class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
              </div>
              <div class="p-6">
                <span class="text-sm text-gray-600">${new Date(
                  post.publish_date
                ).toLocaleDateString()}</span>
                <h3 class="text-xl font-bold mt-2 mb-3">${post.title}</h3>
                <p class="text-gray-400 text-sm mb-4">${post.description}</p>
                <a href="#" onclick="showBlogPost(${post.id}); return false;" 
                   class="text-gray-600 hover:text-gray-400 text-sm font-medium">Read More â†’</a>
              </div>
            </div>
          `
            )
            .join("");

          // Update pagination
          updatePagination();

          // Refresh AOS animations
          AOS.refresh();
        } catch (error) {
          console.error("Error loading blog posts:", error);
          document.getElementById("blog-grid").innerHTML =
            '<p class="text-red-500 col-span-3 text-center">Error loading blog posts</p>';
        }
      }

      function updatePagination() {
        const totalPages = Math.ceil(totalPosts / POSTS_PER_PAGE);
        const paginationDiv = document.querySelector(".pagination");

        if (totalPages <= 1) {
          paginationDiv.classList.add("hidden");
          return;
        }

        paginationDiv.classList.remove("hidden");
        let paginationHTML = "";

        // Previous button
        paginationHTML += `
          <button 
            onclick="changePage(${currentPage - 1})"
            class="px-4 py-2 border-2 border-[#A02025] text-black hover:bg-[#A02025] hover:text-black hover:border-black transition-colors duration-300 ${
              currentPage === 1 ? "opacity-50 cursor-not-allowed" : ""
            }"
            ${currentPage === 1 ? "disabled" : ""}>
            Previous
          </button>
        `;

        // Page numbers
        for (let i = 1; i <= totalPages; i++) {
          paginationHTML += `
            <button 
              onclick="changePage(${i})"
              class="px-4 py-2 border-2 ${
                currentPage === i
                  ? "border-black bg-[#A02025] text-black"
                  : "border-black text-black hover:bg-black hover:text-white"
              } transition-colors duration-300">
              ${i}
            </button>
          `;
        }

        // Next button
        paginationHTML += `
          <button 
            onclick="changePage(${currentPage + 1})"
            class="px-4 py-2 border-2 border-[#A02025] text-black hover:bg-[#A02025] hover:text-black hover:border-black transition-colors duration-300 ${
              currentPage === totalPages ? "opacity-50 cursor-not-allowed" : ""
            }"
            ${currentPage === totalPages ? "disabled" : ""}>
            Next
          </button>
        `;

        paginationDiv.innerHTML = paginationHTML;
      }

      // Function to change page
      async function changePage(newPage) {
        if (newPage < 1 || newPage > Math.ceil(totalPosts / POSTS_PER_PAGE))
          return;
        currentPage = newPage;
        window.scrollTo(0, 0);
        await loadBlogPosts();
      }

      // Show full blog post
      async function showBlogPost(id) {
        try {
          const { data, error } = await supabaseClient
            .from("blog")
            .select("*")
            .eq("id", id)
            .single();

          if (error) throw error;

          const modal = document.createElement("div");
          modal.className =
            "fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4";
          modal.innerHTML = `
            <div class="bg-[#242424] text-white p-6 rounded-lg w-full max-w-4xl mx-auto relative my-8 max-h-[90vh] overflow-y-auto custom-scrollbar">
              <button onclick="this.closest('.fixed').remove()" 
                      class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
              <div class="space-y-6 pr-2">
                <img src="${data.image_url}" 
                     alt="${data.title}" 
                     class="w-full aspect-video object-cover rounded-lg">
                <div class="space-y-4">
                  <span class="text-sm text-gray-300">${new Date(
                    data.publish_date
                  ).toLocaleDateString()}</span>
                  <h2 class="text-3xl font-bold text-white">${data.title}</h2>
                  <div class="max-w-none">
                    <div class="content-wrapper text-white [&_p]:text-white" style="white-space: pre-line;">
                      ${formatContent(data.content)}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;
          document.body.appendChild(modal);

          modal.addEventListener("click", (e) => {
            if (e.target === modal) modal.remove();
          });

          document.addEventListener("keydown", function (e) {
            if (e.key === "Escape") modal.remove();
          });
        } catch (error) {
          console.error("Error loading blog post:", error);
          alert("Error loading blog post");
        }
      }

      function formatContent(content) {
        return content
          .split("\n")
          .filter((para) => para.trim() !== "")
          .map(
            (para) =>
              `<p class="mb-4 text-white !text-white">${para.replace(
                /\n/g,
                "<br>"
              )}</p>`
          )
          .join("\n");
      }
    </script>
        <script src="nav.js"></script>

  </body>
</html>
